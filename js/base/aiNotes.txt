
AiInfluence:
    - A predicate function returning a score used in priority calculations

AiDirective:
    - Top level segmentation of AI behavior
    - Includes set of prioritized goals associated w/ directive and a scoring system for determining priority for directive
    - Examples:
        Sleep
        Eat
        Work

AIGoal:
    - Represents an AI state where a desired condition has been met.

AiState:
    - Container class for all AI state associated with an entity

AiScheme
    Check(actor, state) => preconditions, effects, plan

AiPlan
    Prepare(actor, state)
    Finalize(actor, state) => effects, roi, actions

Action
    start(actor)
    update(actor)



AIPlanState - contains both planning state variables and side effect variables
        planning state variables - preconditions/effects created by AIActionPlan instances, these need
            to be able to be set from local state or directly from AIActionPlan state
        side effect variables - other variables that can be set/used by AIActionPlan instances to determine
            cost of action.  Can be set after interrogating entities or other global state.

AIActionPlan
    Plan() - sets preconditions and effects, driving AI state planning.  All variables here should be planning
        state variables.  Can also create EntityQueries used to query entity store for matching/best entities
        required for AI action
    Finalize()

AIPlanSystem
    Plan() - given a set of possible AI plans and a goal, build an AI graph that has solutions
        to meet goal.  Graph is a list of lists of AI plan nodes.
        Stores AI graph to actor as a list of pending plans
    Prepare() - iterates through list of pending plans for actor.
        For each pending plan, iterates through each node.
            For each node:
                If node has entity query
                    If query is not submitted, prepare query
                    Otherwise, query was submitted and we should have results, call AIActionPlan.Prepare
                        Prepare updates AI state and can create new entity queries
                            If new queries, submit new queries
                Otherwise: no entity query or query is finalized
                    Update AI state
    Finalize()

AI State Tagging

    v_<var> - virtual variable (set and used by AI schemes only)
    a_<var> - actor variable
    e_<var> - environment variable

================================================================================
# idle actions

================================================================================
# gather/deliver actions

FindItem
    target=none
    => target=item
Move
    target!=none
    => target=none
    => location=<target{bed}>
GatherItem
    location=<target{item}>
    => gather=true
    => holding=item
FindDeliveryTarget
    target=none
    holding=item
    => target=dst
Move
    target!=none
    => target=none
    => location=<target{dst}>
DeliverItem
    location=<target{dst}>
    => deliver=true
    
================================================================================
# sleep actions

FindBed
    wakeState=awake
    target=none
    location!=bed
    => target=bed
Move
    target!=none
    => target=none
    => location=<target{bed}>
SleepBed
    location=<target{bed}>
    => sleep=true
    => wakeState=sleep
